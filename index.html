<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø®Ø¯Ù…Ø§Øª Ù…ÙŠØ¯ÙŠØ§ - ALRAES</title>
<style>
    * { margin:0; padding:0; box-sizing:border-box; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
    body { background: linear-gradient(135deg,#667eea 0%,#764ba2 100%); min-height:100vh; display:flex; justify-content:center; align-items:center; }
    .loading-screen { position:fixed; top:0; left:0; width:100%; height:100%; background: linear-gradient(135deg,#667eea 0%,#764ba2 100%); display:flex; flex-direction:column; justify-content:center; align-items:center; z-index:1000; transition:opacity 0.5s ease; }
    .loading-screen.hidden { opacity:0; pointer-events:none; }
    .loading-text { font-size:24px; color:white; margin-bottom:30px; animation:pulse 2s infinite; }
    .media-services { font-size:28px; margin-bottom:20px; color:#f8f9fa; animation:slideDown 1.5s ease-out; }
    .alraes-text { font-size:72px; font-weight:bold; background: linear-gradient(45deg,#ff6b6b,#feca57,#48dbfb,#ff9ff3); background-size:400% 400%; -webkit-background-clip:text; -webkit-text-fill-color:transparent; animation:gradientShift 3s ease infinite,bounce 2s ease infinite; }
    .main-container { display:none; width:90%; max-width:1200px; padding:20px; }
    .main-container.active { display:block; }
    .offers-grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(300px,1fr)); gap:20px; margin-top:30px; }
    .offer-card { background: rgba(255,255,255,0.95); border-radius:15px; padding:25px; box-shadow:0 10px 30px rgba(0,0,0,0.2); transition:transform 0.3s ease; text-align:center; }
    .offer-card:hover { transform:translateY(-5px); }
    .offer-free { border:3px solid #28a745; }
    .offer-premium { border:3px solid #007bff; }
    .offer-title { font-size:24px; font-weight:bold; margin-bottom:10px; color:#333; }
    .offer-free .offer-title { color:#28a745; }
    .offer-premium .offer-title { color:#007bff; }
    .offer-followers { font-size:20px; color:#666; margin-bottom:15px; }
    .offer-price { font-size:22px; font-weight:bold; color:#e44d26; margin-bottom:20px; }
    .task-description { background:#f8f9fa; padding:15px; border-radius:10px; margin-bottom:15px; color:#555; font-size:14px; min-height:80px; display:flex; align-items:center; justify-content:center; }
    .task-link { display:block; background:#17a2b8; color:white; padding:10px 15px; border-radius:8px; margin-bottom:10px; text-decoration:none; font-size:14px; }
    .task-link:hover { background:#138496; }
    .complete-btn,.buy-btn,.submit-btn { background:linear-gradient(45deg,#667eea,#764ba2); color:white; border:none; padding:12px 30px; border-radius:25px; font-size:16px; cursor:pointer; transition:all 0.3s ease; width:100%; margin-top:10px; }
    .complete-btn:hover,.buy-btn:hover,.submit-btn:hover { transform:scale(1.05); }
    .user-input { width:100%; padding:12px; border:2px solid #ddd; border-radius:10px; font-size:16px; margin-bottom:10px; text-align:center; }
    .user-input:focus { outline:none; border-color:#667eea; }
    .hidden { display:none; }
    .debug-info { background:#f8f9fa; padding:10px; border-radius:5px; margin:10px 0; font-size:12px; color:#666; }
    @keyframes pulse { 0%,100%{opacity:1;} 50%{opacity:0.7;} }
    @keyframes slideDown { 0%{transform:translateY(-50px);opacity:0;} 100%{transform:translateY(0);opacity:1;} }
    @keyframes gradientShift { 0%,100%{background-position:0% 50%;} 50%{background-position:100% 50%;} }
    @keyframes bounce { 0%,20%,50%,80%,100%{transform:translateY(0);} 40%{transform:translateY(-10px);} 60%{transform:translateY(-5px);} }
</style>
</head>
<body>

<div class="loading-screen" id="loadingScreen">
    <div class="loading-text">Ø¬Ø§Ø± Ø§Ù„ØªØ­Ù…ÙŠÙ„...</div>
    <div class="media-services">Ø®Ø¯Ù…Ø§Øª Ù…ÙŠØ¯ÙŠØ§</div>
    <div class="alraes-text">ALRAES</div>
</div>

<div class="main-container" id="mainContainer">
    <div class="offers-grid">
        <div class="offer-card offer-free">
            <div class="offer-title">Ø¹Ø±Ø¶ Ù…Ø¬Ø§Ù†ÙŠ</div>
            <div class="offer-followers">10 Ù…ØªØ§Ø¨Ø¹</div>
            <div id="taskInfo">
                <div class="task-description" id="taskDescription">Ø¬Ø§Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù‡Ù…Ø©...</div>
                <a href="#" class="task-link hidden" id="taskLink" target="_blank">Ø±Ø§Ø¨Ø· Ø§Ù„Ù…Ù‡Ù…Ø©</a>
            </div>
            <button class="complete-btn" onclick="completeTask()" id="completeBtn">Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„Ù…Ù‡Ù…Ø©</button>
            <div id="userInputSection" class="hidden">
                <input type="text" class="user-input" id="tiktokUsername" placeholder="Ø£Ø¯Ø®Ù„ ÙŠÙˆØ²Ø± Ø§Ù„ØªÙŠÙƒ ØªÙˆÙƒ">
                <button class="submit-btn" onclick="submitFreeOffer()">Ø¥Ø±Ø³Ø§Ù„</button>
            </div>
            <div class="debug-info hidden" id="debugInfo"></div>
        </div>

        <div class="offer-card offer-premium">
            <div class="offer-title">Ø¹Ø±Ø¶ 1000 Ù…ØªØ§Ø¨Ø¹</div>
            <div class="offer-followers">1,000 Ù…ØªØ§Ø¨Ø¹</div>
            <div class="offer-price">10,000 Ø¯ÙŠÙ†Ø§Ø± Ø¹Ø±Ø§Ù‚ÙŠ</div>
            <button class="buy-btn" onclick="buyOffer(1000, 10000, '@mrdinary')">Ø´Ø±Ø§Ø¡</button>
        </div>

        <div class="offer-card offer-premium">
            <div class="offer-title">Ø¹Ø±Ø¶ 10K Ù…ØªØ§Ø¨Ø¹</div>
            <div class="offer-followers">10,000 Ù…ØªØ§Ø¨Ø¹</div>
            <div class="offer-price">35,000 Ø¯ÙŠÙ†Ø§Ø± Ø¹Ø±Ø§Ù‚ÙŠ</div>
            <button class="buy-btn" onclick="buyOffer(10000, 35000, '@mrdinary')">Ø´Ø±Ø§Ø¡</button>
        </div>
    </div>

    <div style="text-align:center;margin-top:20px;">
        <button onclick="loadTaskFromGoogleSheet()" style="background:#28a745;color:white;border:none;padding:10px 20px;border-radius:5px;cursor:pointer;margin:5px;">ğŸ”„ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</button>
        <button onclick="useManualData()" style="background:#17a2b8;color:white;border:none;padding:10px 20px;border-radius:5px;cursor:pointer;margin:5px;">âš™ï¸ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¨ÙŠØ§Ù†Ø§Øª ÙŠØ¯ÙˆÙŠØ©</button>
    </div>
</div>

<script>
const SHEET_ID = '12IiMlRNM1ncH5H25mceOmRFyvqbS-1nbtn0PG0qRJSk';
let currentTask = { link:'', description:'' };

window.addEventListener('load', function(){
    setTimeout(()=>{
        document.getElementById('loadingScreen').classList.add('hidden');
        document.getElementById('mainContainer').classList.add('active');
        loadTaskFromGoogleSheet();
    },3000);
});

async function loadTaskFromGoogleSheet() {
    const debugInfo = document.getElementById('debugInfo');
    debugInfo.classList.remove('hidden');
    debugInfo.innerHTML = 'ğŸ” Ø¬Ø§Ø±ÙŠ Ù…Ø­Ø§ÙˆÙ„Ø© Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...';

    try {
        const jsonUrl = `https://opensheet.elk.sh/${SHEET_ID}/Sheet1`;
        const response = await fetch(jsonUrl);
        if(!response.ok) throw new Error(`Ø®Ø·Ø£: ${response.status}`);
        const data = await response.json();
        processSheetData(data, 'opensheet');
    } catch(error) {
        console.error(error);
        debugInfo.innerHTML += `<br>âŒ ÙØ´Ù„ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª`;
        useManualData();
    }
}

function processSheetData(data, source) {
    const debugInfo = document.getElementById('debugInfo');
    debugInfo.innerHTML += `<br>âœ… ØªÙ… Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† ${source}`;

    if(data && data.length > 0){
        const firstRow = data[0];
        currentTask.link = firstRow["A"] || "#";
        currentTask.description = firstRow["B"] || "Ù„Ø§ ÙŠÙˆØ¬Ø¯ ÙˆØµÙ";
        const bannerText = firstRow["C"] || "";
        const introText = firstRow["E"] || "";

        displayCurrentTask();

        if(bannerText) showAnimatedBanner(bannerText);
        if(introText) showIntroText(introText);
    } else {
        debugInfo.innerHTML += `<br>âŒ Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª`;
        useManualData();
    }
}

function displayCurrentTask() {
    document.getElementById('taskDescription').textContent = currentTask.description;
    document.getElementById('taskLink').href = currentTask.link;
    document.getElementById('taskLink').textContent = 'ğŸ“ Ø§Ù†Ù‚Ø± Ù„ÙØªØ­ Ø±Ø§Ø¨Ø· Ø§Ù„Ù…Ù‡Ù…Ø©';
    document.getElementById('taskLink').classList.remove('hidden');
}

const manualTasks = [
    { link:"https://t.me/mrdinary", description:"Ø§Ø´ØªØ±Ùƒ ÙÙŠ Ù‚Ù†Ø§Ø© Ø§Ù„ØªÙ„ÙŠØ¬Ø±Ø§Ù…" },
    { link:"https://youtube.com/@mrdinary", description:"Ø§Ø´ØªØ±Ùƒ ÙÙŠ Ù‚Ù†Ø§Ø© Ø§Ù„ÙŠÙˆØªÙŠÙˆØ¨ ÙˆØ´Ø§Ù‡Ø¯ 3 ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª" },
];

function useManualData() {
    const randomTask = manualTasks[Math.floor(Math.random()*manualTasks.length)];
    currentTask = randomTask;
    displayCurrentTask();
    document.getElementById('debugInfo').innerHTML = 'ğŸ”§ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¨ÙŠØ§Ù†Ø§Øª ÙŠØ¯ÙˆÙŠØ©';
}

function completeTask() {
    if(currentTask.link.includes('http')){
        window.open(currentTask.link,'_blank');
        document.getElementById('userInputSection').classList.remove('hidden');
        document.getElementById('completeBtn').style.display='none';
        alert('ØªÙ… ÙØªØ­ Ø±Ø§Ø¨Ø· Ø§Ù„Ù…Ù‡Ù…Ø©! Ø¨Ø¹Ø¯ Ø¥ÙƒÙ…Ø§Ù„Ù‡Ø§ Ø£Ø¯Ø®Ù„ ÙŠÙˆØ²Ø±Ùƒ Ø¨Ø§Ù„Ø£Ø³ÙÙ„');
    } else alert('âš ï¸ Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø±Ø§Ø¨Ø· Ù…Ù‡Ù…Ø© ØµØ§Ù„Ø­ Ø­Ø§Ù„ÙŠØ§Ù‹.');
}

function submitFreeOffer() {
    const username = document.getElementById('tiktokUsername').value.trim();
    if(!username){ alert('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ ÙŠÙˆØ²Ø± Ø§Ù„ØªÙŠÙƒ ØªÙˆÙƒ'); return; }
    alert('ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨Ùƒ Ø¨Ù†Ø¬Ø§Ø­! Ø³ÙŠØªÙ… Ù…ØªØ§Ø¨Ø¹ØªÙƒ Ø®Ù„Ø§Ù„ 24 Ø³Ø§Ø¹Ø©');
    document.getElementById('tiktokUsername').value='';
}

function buyOffer(followers, price, telegramAccount) {
    alert(`ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨Ùƒ Ø¨Ù†Ø¬Ø§Ø­! ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹ ${telegramAccount} Ù„Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©`);
}

function showAnimatedBanner(text){
    const banner = document.createElement("div");
    banner.textContent=text;
    banner.style.position="fixed";
    banner.style.bottom="10px";
    banner.style.left="50%";
    banner.style.transform="translateX(-50%)";
    banner.style.background="linear-gradient(90deg,#ff6b6b,#feca57,#48dbfb)";
    banner.style.color="white";
    banner.style.padding="10px 20px";
    banner.style.borderRadius="25px";
    banner.style.fontWeight="bold";
    banner.style.animation="slideBanner 10s linear infinite";
    document.body.appendChild(banner);

    const style = document.createElement("style");
    style.textContent=`@keyframes slideBanner{0%{transform:translate(-50%,0);}50%{transform:translate(-50%,-10px);}100%{transform:translate(-50%,0);}}`;
    document.head.appendChild(style);
}

function showIntroText(text){
    const intro=document.createElement("div");
    intro.innerHTML=`<div style="
        position: fixed; top:0; left:0; width:100%; height:100%;
        background: rgba(0,0,0,0.85); color:white; display:flex; justify-content:center;
        align-items:center; text-align:center; padding:20px; font-size:24px; z-index:2000;
    ">${text}</div>`;
    document.body.appendChild(intro);
    setTimeout(()=>intro.remove(),5000);
}
</script>

</body>
</html>