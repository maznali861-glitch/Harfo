<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>دليل الأطباء</title>
<link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap" rel="stylesheet">
<style>
  body { font-family:'Tajawal',sans-serif; margin:0; padding:0; background:#f5f7fa; color:#333; }
  header { background:#0066cc; color:#fff; text-align:center; padding:20px; box-shadow:0 4px 10px rgba(0,0,0,0.2);}
  header img { width:100px; height:100px; border-radius:50%; border:3px solid #fff; margin-bottom:10px; }
  header h1 { margin:0; font-size:1.8rem; }

  #list { max-width:1000px; margin:20px auto; padding:0 10px; display:grid; grid-template-columns:repeat(auto-fill,minmax(260px,1fr)); gap:20px; }

  .doctor { background:#fff; padding:15px; border-radius:12px; box-shadow:0 2px 8px rgba(0,0,0,0.1); transition:0.3s; }
  .doctor:hover { transform:translateY(-5px); box-shadow:0 6px 15px rgba(0,0,0,0.2); }
  .doctor h3 { margin:0 0 5px; font-size:1.2rem; color:#0066cc; }
  .doctor p { margin:3px 0; font-size:0.95rem; }
  .doctor a { color:#009933; text-decoration:none; font-weight:bold; }
  .stars { font-size:1.1rem; margin-top:5px; color:#FFD700; }
</style>
</head>
<body>

<header>
  <img src="https://images.unsplash.com/photo-1607746882042-944635dfe10e?crop=entropy&cs=tinysrgb&fit=crop&h=120&w=120" alt="دكتورة">
  <h1>دليل الأطباء</h1>
</header>

<div id="list">جاري التحميل...</div>

<script>
async function loadDoctors() {
  const url = "https://docs.google.com/spreadsheets/d/1ofPgH85C0KrVNT-U8OG6ThGry53xOSYy3GsFVtbIIRo/gviz/tq?tqx=out:json";
  const res = await fetch(url);
  const text = await res.text();
  const json = JSON.parse(text.substr(47).slice(0,-2)); 

  const listDiv = document.getElementById("list");
  listDiv.innerHTML = "";

  json.table.rows.forEach(row => {
    const name = row.c[0] ? row.c[0].v : "";
    const place = row.c[1] ? row.c[1].v : "";
    const whatsapp = row.c[2] ? row.c[2].v : "";
    const promo = row.c[3] ? row.c[3].v : "";
    const starsCount = row.c[4] ? parseInt(row.c[4].v) : 0;

    let stars = "";
    for (let i = 1; i <= 5; i++) stars += i <= starsCount ? "★" : "☆";

    const card = document.createElement("div");
    card.className = "doctor";
    card.innerHTML = `
      <h3>${name}</h3>
      <p>المكان: ${place}</p>
      <p>واتساب: <a href="https://wa.me/${whatsapp}" target="_blank">${whatsapp}</a></p>
      <p class="stars">${stars}</p>
    `;
    listDiv.appendChild(card);
  });
}

loadDoctors();
</script>

</body>
</html>