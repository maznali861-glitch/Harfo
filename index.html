<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø£Ø·Ø¨Ø§Ø¡</title>
<link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap" rel="stylesheet">
<style>
  body { font-family:'Tajawal',sans-serif; margin:0; padding:0; background:#f5f7fa; color:#333; }
  header { background:#0066cc; color:#fff; text-align:center; padding:20px; box-shadow:0 4px 10px rgba(0,0,0,0.2);}
  header h1 { margin:0; font-size:1.8rem; }

  /* Ø´Ø±ÙŠØ· Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† */
  .ad-bar {
    background:#ffcc00;
    color:#000;
    padding:10px;
    overflow:hidden;
    white-space:nowrap;
    box-shadow:0 2px 8px rgba(0,0,0,0.2);
    font-weight:bold;
    font-size:1rem;
  }
  .ad-bar a { color:#0066cc; text-decoration:none; margin:0 5px; }
  .marquee {
    display:inline-block;
    padding-left:100%;
    animation: scroll 15s linear infinite;
  }
  @keyframes scroll {
    0% { transform: translateX(0); }
    100% { transform: translateX(-100%); }
  }

  #list { max-width:1000px; margin:20px auto; padding:0 10px; display:grid; grid-template-columns:repeat(auto-fill,minmax(260px,1fr)); gap:20px; }

  .doctor { background:#fff; padding:15px; border-radius:12px; box-shadow:0 2px 8px rgba(0,0,0,0.1); transition:0.3s; }
  .doctor:hover { transform:translateY(-5px); box-shadow:0 6px 15px rgba(0,0,0,0.2); }
  .doctor h3 { margin:0 0 5px; font-size:1.2rem; color:#0066cc; }
  .doctor p { margin:3px 0; font-size:0.95rem; }
  .doctor a { color:#009933; text-decoration:none; font-weight:bold; }
  .stars { font-size:1.1rem; margin-top:5px; color:#FFD700; }
</style>
</head>
<body>

<header>
  <h1>Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø£Ø·Ø¨Ø§Ø¡</h1>
</header>

<div id="ad" class="ad-bar" style="display:none;">
  <div id="ad-content" class="marquee"></div>
</div>

<div id="list">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</div>

<script>
async function loadDoctors() {
  const url = "https://docs.google.com/spreadsheets/d/1vkxj1YSt1kHbouOlxoSVHMPMVh0eKElFH0vFDQ-eaRQ/gviz/tq?tqx=out:json";
  const res = await fetch(url);
  const text = await res.text();
  const json = JSON.parse(text.substr(47).slice(0,-2)); 

  const listDiv = document.getElementById("list");
  const adDiv = document.getElementById("ad");
  const adContent = document.getElementById("ad-content");
  listDiv.innerHTML = "";
  adContent.innerHTML = "";
  let adMessages = [];

  json.table.rows.forEach(row => {
    const name = row.c[0] ? row.c[0].v : "";
    const place = row.c[1] ? row.c[1].v : "";
    const whatsapp = row.c[2] ? row.c[2].v : "";
    const starsCount = row.c[3] ? parseInt(row.c[3].v) : 0;
    const promo = row.c[4] ? row.c[4].v : "";

    let stars = "";
    for (let i = 1; i <= 5; i++) stars += i <= starsCount ? "â˜…" : "â˜†";

    // Ø¥Ù†Ø´Ø§Ø¡ Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø·Ø¨ÙŠØ¨
    const card = document.createElement("div");
    card.className = "doctor";
    card.innerHTML = `
      <h3>${name}</h3>
      <p>Ø§Ù„Ù…ÙƒØ§Ù†: ${place}</p>
      <p>ÙˆØ§ØªØ³Ø§Ø¨: <a href="https://wa.me/${whatsapp}" target="_blank">${whatsapp}</a></p>
      <p class="stars">${stars}</p>
    `;
    listDiv.appendChild(card);

    // Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…Ø±ÙˆØ¬ -> Ø£Ø¶ÙÙ‡ Ù„Ù„Ø¥Ø¹Ù„Ø§Ù†
    if (promo && promo.trim() === "Ù…Ø±ÙˆØ¬") {
      adMessages.push(`ğŸ‘¨â€âš•ï¸ ${name} - ğŸ“ ${place} - ğŸ“± <a href="https://wa.me/${whatsapp}" target="_blank">${whatsapp}</a> â­ ${stars}`);
    }
  });

  // Ø¹Ø±Ø¶ Ø§Ù„Ø´Ø±ÙŠØ· Ø¥Ø°Ø§ Ù‡Ù†Ø§Ùƒ Ù…Ø±ÙˆØ¬
  if (adMessages.length > 0) {
    adDiv.style.display = "block";
    adContent.innerHTML = adMessages.join(" ğŸ”¹ ");
  }
}

loadDoctors();
</script>

</body>
</html>