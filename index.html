<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø£Ø·Ø¨Ø§Ø¡ ÙÙŠ Ø°ÙŠ Ù‚Ø§Ø±</title>
<link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap" rel="stylesheet">
<style>
  body { font-family:'Tajawal',sans-serif; margin:0; padding:0; background:#eef2f7; color:#333; }

  header {
    background:linear-gradient(135deg, #0066cc, #004080);
    color:#fff;
    text-align:center;
    padding:30px 15px;
    box-shadow:0 4px 12px rgba(0,0,0,0.25);
  }
  header img {
    width:130px; height:130px;
    border-radius:50%;
    border:3px solid #fff;
    margin-bottom:12px;
    object-fit:cover;
  }
  header h1 { margin:5px 0 0; font-size:2rem; }

  /* Ø´Ø±ÙŠØ· Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† Ø«Ø§Ø¨Øª Ø£Ø¹Ù„Ù‰ Ø§Ù„ØµÙØ­Ø© */
  .ad-bar {
    background:#0055aa;
    color:#fff;
    padding:10px;
    overflow:hidden;
    white-space:nowrap;
    font-weight:bold;
    font-size:1rem;
    display:none;
    align-items:center;
    gap:10px;
    position:sticky;
    top:0;
    z-index:999;
  }
  .ad-bar a { color:#ffdd00; text-decoration:none; font-weight:bold; }
  .marquee {
    display:inline-block;
    padding-left:100%;
    animation: scroll 18s linear infinite;
  }
  @keyframes scroll {
    0% { transform: translateX(0); }
    100% { transform: translateX(-100%); }
  }

  #search-container {
    max-width:1100px;
    margin:20px auto 10px auto;
    padding:0 15px;
    display:flex;
    justify-content:center;
  }
  #search-input {
    width:100%;
    max-width:400px;
    padding:10px 15px;
    border-radius:10px;
    border:1px solid #ccc;
    font-size:1rem;
  }

  #list {
    max-width:1100px;
    margin:0 auto 50px auto;
    padding:0 15px;
    display:grid;
    grid-template-columns:repeat(auto-fill,minmax(280px,1fr));
    gap:20px;
  }
  .doctor {
    background:#fff;
    padding:18px;
    border-radius:15px;
    box-shadow:0 3px 10px rgba(0,0,0,0.15);
    transition:0.3s;
    display:flex;
    flex-direction:column;
  }
  .doctor:hover { transform:translateY(-5px); box-shadow:0 8px 18px rgba(0,0,0,0.25); }
  .doctor h3 { margin:0 0 5px; font-size:1.25rem; color:#0066cc; }
  .doctor .specialty { color:#444; font-size:0.95rem; margin-bottom:5px; font-weight:bold; }
  .doctor p { margin:4px 0; font-size:0.95rem; }
  .doctor a { color:#009933; text-decoration:none; font-weight:bold; }
  .stars { font-size:1.2rem; margin-top:6px; color:#FFD700; }

  .telegram-btn {
    position:fixed;
    bottom:20px;
    left:20px;
    background:#0088cc;
    color:#fff;
    border-radius:50%;
    width:60px;
    height:60px;
    display:flex;
    align-items:center;
    justify-content:center;
    box-shadow:0 4px 12px rgba(0,0,0,0.25);
    cursor:pointer;
    transition:0.3s;
    z-index:1000;
    flex-direction:column;
    font-size:0.7rem;
  }
  .telegram-btn:hover { background:#0077b5; transform:scale(1.1); }
  .telegram-btn img { width:32px; height:32px; margin-bottom:2px; }
</style>
</head>
<body>

<header>
  <img src="https://images.unsplash.com/photo-1607746882042-944635dfe10e?crop=entropy&cs=tinysrgb&fit=crop&h=200&w=200" alt="Ø·Ø¨ÙŠØ¨Ø©">
  <h1>Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø£Ø·Ø¨Ø§Ø¡ ÙÙŠ Ø°ÙŠ Ù‚Ø§Ø±</h1>
</header>

<div id="ad" class="ad-bar">
  <div id="ad-content" class="marquee"></div>
</div>

<div id="search-container">
  <input type="text" id="search-input" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ø·Ø¨ÙŠØ¨ Ø¨Ø§Ù„Ø§Ø³Ù… Ø£Ùˆ Ø§Ù„Ø§Ø®ØªØµØ§Øµ Ø£Ùˆ Ø§Ù„Ù…ÙƒØ§Ù†...">
</div>

<div id="list">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</div>

<a href="https://t.me/tele060" target="_blank" class="telegram-btn" title="Ù„Ù„ØªÙˆØ§ØµÙ„ Ù„Ù„Ø¥Ø¹Ù„Ø§Ù†">
  <img src="https://cdn-icons-png.flaticon.com/512/725/725643.png" alt="Telegram">
  <span>Ù„Ù„Ø¥Ø¹Ù„Ø§Ù†</span>
</a>

<script>
let allDoctors = [];

async function loadDoctors() {
  const url = "https://docs.google.com/spreadsheets/d/1vkxj1YSt1kHbouOlxoSVHMPMVh0eKElFH0vFDQ-eaRQ/gviz/tq?tqx=out:json";
  const res = await fetch(url);
  const text = await res.text();
  const json = JSON.parse(text.substr(47).slice(0,-2));

  allDoctors = json.table.rows.map(row => ({
    name: row.c[0] ? row.c[0].v : "",
    place: row.c[1] ? row.c[1].v : "",
    whatsapp: row.c[2] ? row.c[2].v : "",
    starsCount: row.c[3] ? parseInt(row.c[3].v) : 0,
    promo: row.c[4] ? row.c[4].v : "",
    specialty: row.c[5] ? row.c[5].v : ""
  }));

  displayDoctors(allDoctors);
  displayAds(allDoctors);
}

function displayDoctors(doctors) {
  const listDiv = document.getElementById("list");
  listDiv.innerHTML = "";

  const promos = doctors.filter(d => d.promo && d.promo.trim().toLowerCase() === "Ù…Ø±ÙˆØ¬");
  const others = doctors.filter(d => !d.promo || d.promo.trim().toLowerCase() !== "Ù…Ø±ÙˆØ¬");
  const ordered = [...promos, ...others];

  ordered.forEach(d => {
    let stars = "";
    for (let i=1; i<=5; i++) stars += i<=d.starsCount ? "â˜…" : "â˜†";

    const card = document.createElement("div");
    card.className = "doctor";
    card.innerHTML = `
      <h3>${d.name}</h3>
      <div class="specialty">ğŸ©º ${d.specialty}</div>
      <p>ğŸ“ Ø§Ù„Ù…ÙƒØ§Ù†: ${d.place}</p>
      <p>ğŸ“± ÙˆØ§ØªØ³Ø§Ø¨: <a href="https://wa.me/${d.whatsapp}" target="_blank">${d.whatsapp}</a></p>
      <p class="stars">${stars}</p>
    `;
    listDiv.appendChild(card);
  });
}

function displayAds(doctors) {
  const adDiv = document.getElementById("ad");
  const adContent = document.getElementById("ad-content");
  const promos = doctors.filter(d => d.promo && d.promo.trim().toLowerCase() === "Ù…Ø±ÙˆØ¬");
  if(promos.length > 0){
    adDiv.style.display = "flex";
    adContent.innerHTML = promos.map(d => `ğŸ‘©â€âš•ï¸ ${d.name} | ğŸ¥ ${d.specialty} | ${d.place} | ğŸ“± <a href="https://wa.me/${d.whatsapp}" target="_blank">${d.whatsapp}</a>`).join(" ğŸ”¹ ");
  }
}

// Ø§Ù„Ø¨Ø­Ø«
document.getElementById("search-input").addEventListener("input", function(){
  const query = this.value.toLowerCase();
  const filtered = allDoctors.filter(d =>
    d.name.toLowerCase().includes(query) ||
    d.specialty.toLowerCase().includes(query) ||
    d.place.toLowerCase().includes(query)
  );
  displayDoctors(filtered);
});

loadDoctors();
</script>

</body>
</html>